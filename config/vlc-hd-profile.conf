# VLC HD Profile Configuration for PiSignage v0.8.0
# Optimized for Raspberry Pi 1920x1080 30FPS playback
# This file contains VLC configuration parameters for maximum HD performance

# ================================
# CORE SETTINGS
# ================================

# Interface settings
intf=dummy
extraintf=

# Disable GUI components
qt-notification=0
qt-privacy-ask=0
qt-error-dialogs=0
qt-system-tray=0

# ================================
# VIDEO OUTPUT OPTIMIZATION
# ================================

# MMAL Hardware acceleration (Raspberry Pi specific)
vout=mmal_vout
avcodec-hw=mmal
mmal-vout=1
mmal-opaque=1
mmal-resize=1

# Video output settings
fullscreen=1
video-title-show=0
osd=0
snapshot-preview=0

# Overlay and subtitle settings
sub-autodetect-file=0
sub-autodetect-path=
video-filter=
sub-filter=

# Deinterlacing (disable for progressive content)
deinterlace=0
deinterlace-mode=

# ================================
# AUDIO OUTPUT OPTIMIZATION
# ================================

# Audio output
aout=alsa
alsa-audio-device=hw:1,0

# Audio settings
audio-buffer=500
aout-rate=44100
audio-resampler=soxr
audio-replay-gain-mode=none

# Disable audio effects
audio-filter=
audio-visual=

# ================================
# CODEC AND DECODER SETTINGS
# ================================

# Hardware accelerated codecs
codec=avcodec,mmal_decoder

# FFmpeg/avcodec settings
avcodec-threads=4
avcodec-skip-frame=0
avcodec-skip-idct=0
avcodec-fast=0
avcodec-lowres=0

# Decoder preferences
preferred-resolution=-1

# ================================
# CACHING AND BUFFERING
# ================================

# File caching (2 seconds for local files)
file-caching=2000

# Network caching (3 seconds for network streams)
network-caching=3000
http-caching=3000
ftp-caching=3000

# Live stream caching (300ms for minimal latency)
live-caching=300

# Output buffering
sout-mux-caching=2000

# Buffer sizes (16MB each for HD content)
prefetch-buffer-size=16777216
file-buffer-size=16777216

# ================================
# PERFORMANCE OPTIMIZATION
# ================================

# Threading
threads=4

# Performance flags
high-priority=1
drop-late-frames=1
skip-frames=1

# Memory usage
memory-buffers=1

# ================================
# PLAYLIST AND LOOP SETTINGS
# ================================

# Loop behavior
loop=1
repeat=1
random=0

# Playlist settings
playlist-autostart=1
play-and-stop=0

# Media library
auto-preparse=0
metadata-network-access=0

# ================================
# ADVANCED RASPBERRY PI SETTINGS
# ================================

# GPU memory (this should also be set in /boot/config.txt)
# These are VLC-specific settings that complement boot config

# Raspberry Pi specific optimizations
avcodec-options=threads=4,thread_type=frame+slice

# H.264 specific optimizations
h264-itu-compliance=0

# MPEG-TS demuxer optimization
ts-extra-pmt=1
ts-trust-pcr=1

# ================================
# LOGGING AND DEBUG
# ================================

# Minimal logging for performance
verbose=0
color=0
quiet=1

# Log level (0=info, 1=error, 2=warning, 3=debug)
log-verbose=1

# Disable stats
stats=0

# ================================
# NETWORK AND STREAM SETTINGS
# ================================

# HTTP settings
http-user-agent="PiSignage VLC Player"
http-reconnect=1

# Stream output settings
sout-keep=1

# ================================
# HOTKEYS (DISABLED FOR KIOSK MODE)
# ================================

# Disable all hotkeys for kiosk mode
key-toggle-fullscreen=
key-leave-fullscreen=
key-play-pause=
key-pause=
key-play=
key-faster=
key-slower=
key-next=
key-prev=
key-stop=
key-position=
key-quit=
key-vol-up=
key-vol-down=
key-vol-mute=

# ================================
# SUBTITLE AND LANGUAGE SETTINGS
# ================================

# Disable subtitle autodetection
sub-autodetect-file=0
freetype-font=
freetype-fontsize=0

# Language preferences (empty for default)
audio-language=
sub-language=

# ================================
# ASPECT RATIO AND SCALING
# ================================

# Maintain aspect ratio
aspect-ratio=
crop=
monitor-par=
custom-crop-ratios=
custom-aspect-ratios=

# Zoom and scaling
zoom=1.000000
scale=1.000000

# ================================
# SNAPSHOT SETTINGS
# ================================

# Snapshot format and quality
snapshot-format=png
snapshot-quality=90
snapshot-prefix=pisignage_

# ================================
# MISC OPTIMIZATION FLAGS
# ================================

# Disable unnecessary features
video-deco=0
embedded-video=0
video-splitter=
video-wallpaper=0

# Input optimization
input-timeshift-path=
input-timeshift-granularity=50

# Advanced performance tweaks
clock-master=0
clock-synchro=0

# ================================
# END OF CONFIGURATION
# ================================

# Note: Some of these settings may require VLC restart to take effect
# For Raspberry Pi 4 with 4GB+ RAM, you can increase buffer sizes:
# prefetch-buffer-size=33554432
# file-buffer-size=33554432